@model BostonScientificAVS.Models.WorkOrderInfo
<partial name="_Loader" />
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- Add Bootstrap CSS link -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-4bw+/aepP/YC94hEpVNVgiZdgIC5+VKNBQNGCHeKRQN+PtmoHDEXuppvnDJzQIu9" crossorigin="anonymous">
</head>

<body>
    <div class="container container-fluid">
        <nav class="navbar">
            <div class="dropdown">
                <button class="custom-config-button" type="button" id="dropdownMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                    <img class="avatar-image-size" src="~/assets/images/user_avatar.png" />
                    <span class="user-name-text">Hello, @User.Identity.Name | @User.Claims.FirstOrDefault(c => c.Type == "EmpID")?.Value</span>
                </button>
                <div class="dropdown-menu custom-config-dropdown" aria-labelledby="dropdownMenuButton">

                    @if (User.IsInRole("Admin"))
                    {
                        <a class="dropdown-item text-color-blue" asp-area="" asp-controller="Admin" asp-action="Users">Manage Users</a>
                        <a class="dropdown-item text-color-blue" asp-area="" asp-controller="Admin" asp-action="Items">Manage Database</a>
                        <a class="dropdown-item text-color-blue" asp-area="" asp-controller="Admin" asp-action="TransactionTable">Transaction</a>
                    }
                    <a class="dropdown-item text-color-blue" asp-area="" asp-controller="Login" asp-action="Logout">Logout</a>
                </div>
            </div>

            <div class="navigation-back">
                <div class="session-time">
                    <h6 class="session-expires-text text-color-blue">Your Session Expires On</h6>
                    <h6 id="timer" class="session-expire-time text-color-blue"></h6>
                </div>
                <div>
                    <a class="button" href="javascript:history.go(-1)" @*asp-area="" asp-controller="Home" asp-action="WorkOrderScan"*@><img class="back-button-img" src="/assets/images/back-arrow.png" /><span class="back-text">Back</span></a>
                </div>
            </div>

        </nav>
       <div class="brdr-bottom"></div>
        <div class="packaging">Package Processing</div>
        


        @*<div class="heading">
        <div >
        <div>
        <img src="/assets/images/abeTechHeading.png" class="image-size" />
        <span class="heading-text"> | Packaging</span>
        </div>
        </div>
        <div >
        <div>
        <a class="button" asp-area="" asp-controller="Home" asp-action="WorkOrderScan"><img class="back-button-img" src="/assets/images/back-arrow.png" /><span class="back-text">Back</span></a>
        </div>
        </div>
        </div>*@
        @*   <form id="productlabelform" asp-controller="Home" asp-action="SaveProductLabel" method="post" class="temp-button">*@
            <div class="work-order-scan-submit">
            <div class="row inpt1">
                <div class="col-md-8">
                    <div class="row">
                        <div class="col-md-6">
                            <input id="productLabelInput" class="scan-input" placeholder="Product label" name="input" autocomplete="off" />
                            <div id="productLabelInputError" class="text-danger"></div>
                        </div>
                        <div class="col-md-3">
                            <input id="productLabelSpec" class="scan-input" placeholder="Label Spec" name="input1" autocomplete="off" />
                        </div>
                        <div class="col-md-3">
                            <button type="submit" class="login-button btn btn-primary" id="submitBtn">
                                <span class="login-text">Scan ID/Submit</span>
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        @*   </form>*@
        <div class="full-div">
            <div class="row" id="first-row">
                @*         <div class="col-sm-8">
                <div class="count-data">
                <div class="p-10">
                <h6 class="processing-lot-text">Processing Lot No. : <span id="work-order-lot-no" class="processing-lot-no">@Model.workOrderLotNo</span></h6>
                </div>
                <div class="data-stat">
                <div class="data-card p-10" id="total">
                <div class="data-heading">
                <h6 class="data-heading-text">Total</h6>

                </div>
                <hr style="color: #003C71;"/>
                <div class="data-val">
                <h6 id="total-val" class="data-val-text">@Model.totalCount</h6>
                </div>
                </div>
                <div class="data-card p-10" id="pass">
                <div class="data-heading">
                <div>
                <h6 class="data-heading-text">Passed</h6>
                </div>
                <div>
                <img src="/assets/images/passed-icon.png" class="pass-icon"/>
                </div>
                </div>
                <hr style="color: #003C71;"/>
                <div class="data-val">
                <h6 id="total-passed-val" class="data-val-text">@Model.passedCount</h6>
                </div>
                </div>
                <div class="data-card p-10" id="fail">
                <div class="data-heading">
                <div>
                <h6 class="data-heading-text">Failed</h6>
                </div>
                <div>
                <img src="/assets/images/failed-icon.png" class="pass-icon"/>
                </div>
                </div>
                <hr style="color: #003C71;"/>
                <div class="data-val">
                <h6 id="total-failed-val" class="data-val-text">@Model.failedCount</h6>
                </div>
                </div>
                <div class="data-card p-10" id="rescan">
                <div class="data-heading">
                <div>
                <h6 class="data-heading-text">Rescanned</h6>
                </div>
                <div>
                <img src="/assets/images/approved-icon.png" class="pass-icon"/>
                </div>
                </div>
                <hr style="color: #003C71;"/>
                <div class="data-val">
                <h6 id="total-rescanned-val" class="data-val-text">@Model.scannedCount</h6>
                </div>
                </div>
                </div>
                </div>

                <div class="row">
                <div class="col-md-5">
                <div id="scanning-icon-div" class="scanning-icon">
                <div id="before-scan-image" class="scanning-gif ">
                <img class="barcode-img-size" src="/assets/images/scanning-temp-image.png" />
                </div>
                <div id="after-scan-fail-image" class="scanning-gif temp-display">
                <img class="barcode-img-size" src="/assets/images/fail-image.png" />
                </div>
                <div id="after-scan-pass-image" class="scanning-gif temp-display">
                <img class="barcode-img-size" src="/assets/images/passed-icon.png" />
                </div>
                </div>
                </div>
                <div class="col-md-6">
                <div id="before-scan-text" class="scanning-instruction temp-button">
                <div class="scanning-text-container">
                <h6 class="scanning-text-1">place the product label </h6>
                <h6 class="scanning-text-1">under the scanner</h6>
                </div>
                </div>
                <div id="after-scan-fail-text" style="display:none;" class="scanning-failed-instruction temp-supervisor-call-button">
                <div class="scanning-text-container">
                <h6 class="scanning-text-1">supervisor required to </h6>
                <h6 class="scanning-text-1"> approve mismatch </h6>
                </div>
                </div>
                </div>
                </div>

                <div id="scanned-data" class="supervisor-container temp-display">
                <div class="data-comparison-pass">
                <div>
                <h6 class="mismatch-text">Scanned Details</h6>
                </div>
                <div class="data-table-pass">
                <div class="product-data" >
                <div>
                <h6 class="comparison-lable-text">DB GTIN</h6>
                </div>
                <div>

                <h6 id="pass-db-gtin" class="comparison-lable-text" >xxxxxxxxxxx</h6>
                </div>
                <div>
                <h6 class="comparison-lable-text">Work Order Lot No</h6>
                </div>
                <div>

                <h6 id="pass-wo-lot-no" class="comparison-lable-text" >xxxxxxxxxxx</h6>
                </div>
                <div>
                <h6 class="comparison-lable-text">DB Label Spec</h6>
                </div>
                <div>

                <h6 id="pass-db-label-spec" class="comparison-lable-text" >xxxxxxxxxxx</h6>
                </div>
                <div>
                <h6 class="comparison-lable-text">Calculated Use By</h6>
                </div>
                <div>

                <h6 id="pass-calc-use-by" class="comparison-lable-text" >xxxxxxxxxxx</h6>
                </div>
                <div>
                <h6 class="comparison-lable-text">DB Catalog Num</h6>
                </div>
                <div>

                <h6 id="pass-db-catalog-num" class="comparison-lable-text" >xxxxxxxxxxx</h6>
                </div>
                </div>
                <div class="data-from-db">
                <div>
                <h6 class="comparison-lable-text" > Product Label GTIN </h6>
                </div>
                <div>

                <h6 id="pass-product-gtin" class="comparison-lable-text" >xxxxxxxxxxx</h6>
                </div>
                <div>
                <h6 class="comparison-lable-text" > Product Lot Num </h6>
                </div>
                <div>

                <h6 id="pass-product-lot-no" class="comparison-lable-text" >xxxxxxxxxxx</h6>
                </div>
                <div>
                <h6 class="comparison-lable-text" > Product Label Spec</h6>
                </div>
                <div>

                <h6 id="pass-product-label-spec" class="comparison-lable-text" >xxxxxxxxxxx</h6>
                </div>
                <div>
                <h6 class="comparison-lable-text" > Product Use By </h6>
                </div>
                <div>

                <h6 id="pass-product-use-by" class="comparison-lable-text" >xxxxxxxxxxx</h6>
                </div>

                <div>
                <h6 class="comparison-lable-text" > Work Order Catalog Num</h6>
                </div>
                <div>

                <h6 id="pass-wo-catalog-no" class="comparison-lable-text" >xxxxxxxxxxx</h6>
                </div>
                </div>
                </div>
                </div>
                </div>

                <div id="supervisor-intervention" class="supervisor-container temp-display">
                <div class="border">
                <div class="data-comparison">
                <div>
                <h6 class="mismatch-text">Scanned Details</h6>
                </div>
                <div class="data-table-pass-supervisor">
                <div class="product-data" style="width:200px">
                <div>
                <div>
                <h6 class="comparison-lable-text">DB GTIN</h6>
                </div>
                <div>

                <h6 id="fail-db-gtin" class="comparison-lable-text" >xxxxxxxxxxx</h6>
                </div>
                <hr />
                </div>
                <div>
                <div>
                <h6 class="comparison-lable-text">Work Order Lot No</h6>
                </div>
                <div>

                <h6 id="fail-wo-lot-no" class="comparison-lable-text" >xxxxxxxxxxx</h6>
                </div>
                <hr/>
                </div>
                <div>
                <div>
                <h6 class="comparison-lable-text">DB Label Spec</h6>
                </div>
                <div>

                <h6 id="fail-db-label-spec" class="comparison-lable-text" >xxxxxxxxxxx</h6>
                </div>
                <hr/>
                </div>
                <div>
                <div>
                <h6 class="comparison-lable-text">Calculated Use By</h6>
                </div>
                <div>

                <h6 id="fail-calc-use-by" class="comparison-lable-text" >xxxxxxxxxxx</h6>
                </div>
                <hr/>
                </div>
                <div>
                <div>
                <h6 class="comparison-lable-text">DB Catalog Num</h6>
                </div>
                <div>

                <h6 id="fail-db-catalog-num" class="comparison-lable-text" >xxxxxxxxxxx</h6>
                </div>
                <hr/>
                </div>
                </div>
                <div class="data-from-db">
                <div>
                <div>
                <h6 class="comparison-lable-text" id="p-gtin"> Product Label GTIN </h6>
                </div>
                <div>

                <h6 id="fail-product-gtin" class="comparison-lable-text" >xxxxxxxxxxx</h6>
                </div>
                <hr/>
                </div>
                <div>
                <div>
                <h6 class="comparison-lable-text" id="p-lotnum" > Product Lot Num </h6>
                </div>
                <div>

                <h6 id="fail-product-lot-no" class="comparison-lable-text" >xxxxxxxxxxx</h6>
                </div>
                <hr/>
                </div>
                <div>
                <div>
                <h6 class="comparison-lable-text" id="p-labelspec"> Product Label Spec</h6>
                </div>
                <div>

                <h6 id="fail-product-label-spec" class="comparison-lable-text" >xxxxxxxxxxx</h6>
                </div>
                <hr/>
                </div>
                <div>
                <div>
                <h6 class="comparison-lable-text" id="p-useby"> Product Use By </h6>
                </div>
                <div>

                <h6 id="fail-product-use-by" class="comparison-lable-text" >xxxxxxxxxxx</h6>
                </div>
                <hr/>
                </div>
                <div>
                <div>
                <h6 class="comparison-lable-text" id="w-catlognum" > Work Order Catalog Num</h6>
                </div>
                <div>

                <h6 id="fail-wo-catalog-no" class="comparison-lable-text" >xxxxxxxxxxx</h6>
                </div>
                <hr/>
                </div>
                </div>
                </div>

                </div>
                </div>
                <div class="navigation-container">
                <div >
                <a id="rescanBtn" class="approve-button" onclick="reloadPage()"><span class="approve-text">Rescan</span></a>
                </div>
                <div>
                <a class="reject-button" asp-area="" asp-controller="Home" asp-action="WorkOrderScan"><span class="reject-text">New Work Order</span></a>
                </div>
                </div>
                </div>
                </div>*@
                <div class="col-md-8" id="first-column">
                    <div class="count-data">
                        <div class="p-10">
                            <h6 class="processing-lot-text">Processing Lot No. : <span id="work-order-lot-no" class="processing-lot-no">@Model.workOrderLotNo</span></h6>
                        </div>
                        <div class="data-stat">
                            <div class="data-card p-10" id="total">
                                <div class="data-heading">
                                    <h6 class="data-heading-text">Total</h6>

                                </div>
                                <hr style="color: #003C71;" />
                                <div class="data-val">
                                    <h6 id="total-val" class="data-val-text">@Model.totalCount</h6>
                                </div>
                            </div>
                            <div class="data-card p-10" id="pass">
                                <div class="data-heading">
                                    <div>
                                        <h6 class="data-heading-text">Passed</h6>
                                    </div>
                                    <div>
                                        <img src="/assets/images/passed-icon.png" class="pass-icon" />
                                    </div>
                                </div>
                                <hr style="color: #003C71;" />
                                <div class="data-val">
                                    <h6 id="total-passed-val" class="data-val-text">@Model.passedCount</h6>
                                </div>
                            </div>
                            <div class="data-card p-10" id="fail">
                                <div class="data-heading">
                                    <div>
                                        <h6 class="data-heading-text">Failed</h6>
                                    </div>
                                    <div>
                                        <img src="/assets/images/failed-icon.png" class="pass-icon" />
                                    </div>
                                </div>
                                <hr style="color: #003C71;" />
                                <div class="data-val">
                                    <h6 id="total-failed-val" class="data-val-text">@Model.failedCount</h6>
                                </div>
                            </div>
                            <div class="data-card p-10" id="rescan">
                                <div class="data-heading">
                                    <div>
                                        <h6 class="data-heading-text">Rescanned</h6>
                                    </div>
                                    <div>
                                        <img src="/assets/images/approved-icon.png" class="pass-icon" />
                                    </div>
                                </div>
                                <hr style="color: #003C71;" />
                                <div class="data-val">
                                    <h6 id="total-rescanned-val" class="data-val-text">@Model.scannedCount</h6>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-12 scn">
                        <div class="col-md-5 center">
                            <div id="scanning-icon-div" class="scanning-icon">
                                <div id="before-scan-image" class="scanning-gif ">
                                    <img class="barcode-img-size" src="/assets/images/scanning-temp-image.png" />
                                </div>
                                <div id="after-scan-fail-image" class="scanning-gif temp-display">
                                    <img class="barcode-img-size" src="/assets/images/fail-image.png" style="background-color: #F46D67" />
                                </div>
                                <div id="after-scan-pass-image" class="scanning-gif temp-display">
                                    <img class="barcode-img-size" src="/assets/images/passed-icon.png" />
                                </div>
                            </div>
                            
                     @*       <div id="supervisor-intervention" class="supervisor-container temp-display">
                                <div class="data-comparison">
                                    <div>
                                        <h6 class="mismatch-text">Scanned Details</h6>
                                    </div>
                                    <div class="data-table-pass-supervisor">
                                        <div class="col-md-6 product-data" style="width:200px">
                                            <div>
                                                <div>
                                                    <h6 class="comparison-lable-text">DB GTIN</h6>
                                                </div>
                                                <div>

                                                    <h6 id="fail-db-gtin" class="comparison-lable-text">xxxxxxxxxxx</h6>
                                                </div>
                                                <hr />
                                            </div>
                                            <div>
                                                <div>
                                                    <h6 class="comparison-lable-text">Work Order Lot No</h6>
                                                </div>
                                                <div>

                                                    <h6 id="fail-wo-lot-no" class="comparison-lable-text">xxxxxxxxxxx</h6>
                                                </div>
                                                <hr />
                                            </div>
                                            <div>
                                                <div>
                                                    <h6 class="comparison-lable-text">DB Label Spec</h6>
                                                </div>
                                                <div>

                                                    <h6 id="fail-db-label-spec" class="comparison-lable-text">xxxxxxxxxxx</h6>
                                                </div>
                                                <hr />
                                            </div>
                                            <div>
                                                <div>
                                                    <h6 class="comparison-lable-text">Calculated Use By</h6>
                                                </div>
                                                <div>

                                                    <h6 id="fail-calc-use-by" class="comparison-lable-text">xxxxxxxxxxx</h6>
                                                </div>
                                                <hr />
                                            </div>
                                            <div>
                                                <div>
                                                    <h6 class="comparison-lable-text">DB Catalog Num</h6>
                                                </div>
                                                <div>

                                                    <h6 id="fail-db-catalog-num" class="comparison-lable-text">xxxxxxxxxxx</h6>
                                                </div>
                                                <hr />
                                            </div>
                                        </div>
                                        <div class="col-md-6 data-from-db">
                                            <div>
                                                <div>
                                                    <h6 class="comparison-lable-text" id="p-gtin"> Product Label GTIN </h6>
                                                </div>
                                                <div>

                                                    <h6 id="fail-product-gtin" class="comparison-lable-text">xxxxxxxxxxx</h6>
                                                </div>
                                                <hr />
                                            </div>
                                            <div>
                                                <div>
                                                    <h6 class="comparison-lable-text" id="p-lotnum"> Product Lot Num </h6>
                                                </div>
                                                <div>

                                                    <h6 id="fail-product-lot-no" class="comparison-lable-text">xxxxxxxxxxx</h6>
                                                </div>
                                                <hr />
                                            </div>
                                            <div>
                                                <div>
                                                    <h6 class="comparison-lable-text" id="p-labelspec"> Product Label Spec</h6>
                                                </div>
                                                <div>

                                                    <h6 id="fail-product-label-spec" class="comparison-lable-text">xxxxxxxxxxx</h6>
                                                </div>
                                                <hr />
                                            </div>
                                            <div>
                                                <div>
                                                    <h6 class="comparison-lable-text" id="p-useby"> Product Use By </h6>
                                                </div>
                                                <div>

                                                    <h6 id="fail-product-use-by" class="comparison-lable-text">xxxxxxxxxxx</h6>
                                                </div>
                                                <hr />
                                            </div>
                                            <div>
                                                <div>
                                                    <h6 class="comparison-lable-text" id="w-catlognum"> Work Order Catalog Num</h6>
                                                </div>
                                                <div>

                                                    <h6 id="fail-wo-catalog-no" class="comparison-lable-text">xxxxxxxxxxx</h6>
                                                </div>
                                                <hr />
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>*@

                        </div>
                        <div class="col-md-7 lbl">
                            <div class="row">
                            <div class="col-6">
                            <div id="before-scan-text" class="scanning-instruction" style="background-color: #003C71;">
                                <div class="scanning-text-container">
                                    <h6 class="scanning-text-1">place the product label </h6>
                                    <h6 class="scanning-text-1">under the scanner</h6>
                                </div>
                            </div>
                            <div id="after-scan-fail-text" style="display:none;background-color: #003C71;" class="scanning-text-container scanning-failed-instruction temp-supervisor-call-button">
                                <h6 class="scanning-text-1">supervisor required to approve mismatch</h6>                  
                            </div>
                                    <div id="after-scan-fail-text1" style="display:none;background-color: #003C71;" class="scanning-text-container scanning-failed-instruction temp-supervisor-call-button1">
                                        <h6 class="scanning-text-1">supervisor required to approve mismatch</h6>
                                    </div>
                            </div>
                            </div>
                            </div>
                        </div>

                        <div class="row" id="error">
                        <div class="col-md-8">
                            <div id="supervisor-intervention" class="supervisor-container temp-display">
                                    <div class="data-comparison">
                                        <div>
                                            <h6 class="mismatch-text">Scanned Details</h6>
                                        </div>
                                        <div class="data-table-pass-supervisor">
                                            <div class="col-md-6 product-data" style="width:200px">
                                                <div>
                                                    <div>
                                                        <h6 class="comparison-lable-text">DB GTIN</h6>
                                                    </div>
                                                    <div>

                                                        <h6 id="fail-gtin-error" class="comparison-lable-text">xxxxxxxxxxx</h6>
                                                    </div>
                                                    <hr />
                                                </div>
                                                <div>
                                                    <div>
                                                        <h6 class="comparison-lable-text">Work Order Lot No</h6>
                                                    </div>
                                                    <div>

                                                        <h6 id="fail-lotno-error" class="comparison-lable-text">xxxxxxxxxxx</h6>
                                                    </div>
                                                    <hr />
                                                </div>
                                                <div>
                                                    <div>
                                                        <h6 class="comparison-lable-text">DB Label Spec</h6>
                                                    </div>
                                                    <div>

                                                        <h6 id="fail-label-spec-error" class="comparison-lable-text">xxxxxxxxxxx</h6>
                                                    </div>
                                                    <hr />
                                                </div>
                                                <div>
                                                    <div>
                                                        <h6 class="comparison-lable-text">Calculated Use By</h6>
                                                    </div>
                                                    <div>

                                                        <h6 id="fail-calc-use-by-error" class="comparison-lable-text">xxxxxxxxxxx</h6>
                                                    </div>
                                                    <hr />
                                                </div>
                                                <div>
                                                    <div>
                                                        <h6 class="comparison-lable-text">DB Catalog Num</h6>
                                                    </div>
                                                    <div>

                                                        <h6 id="fail-db-catalog-num-error" class="comparison-lable-text">xxxxxxxxxxx</h6>
                                                    </div>
                                                    <hr />
                                                </div>
                                            </div>
                                            <div class="col-md-6 data-from-db">
                                                <div>
                                                    <div>
                                                        <h6 class="comparison-lable-text" id="pa-gtin"> Product Label GTIN </h6>
                                                    </div>
                                                    <div>

                                                        <h6 id="fail-product-gtin-error" class="comparison-lable-text">xxxxxxxxxxx</h6>
                                                    </div>
                                                    <hr />
                                                </div>
                                                <div>
                                                    <div>
                                                        <h6 class="comparison-lable-text" id="p-lotnum-error"> Product Lot Num </h6>
                                                    </div>
                                                    <div>

                                                        <h6 id="fail-product-lot-no-error" class="comparison-lable-text">xxxxxxxxxxx</h6>
                                                    </div>
                                                    <hr />
                                                </div>
                                                <div>
                                                    <div>
                                                        <h6 class="comparison-lable-text" id="p-labelspec-error"> Product Label Spec</h6>
                                                    </div>
                                                    <div>

                                                        <h6 id="fail-product-label-spec-error" class="comparison-lable-text">xxxxxxxxxxx</h6>
                                                    </div>
                                                    <hr />
                                                </div>
                                                <div>
                                                    <div>
                                                        <h6 class="comparison-lable-text" id="p-useby-error"> Product Use By </h6>
                                                    </div>
                                                    <div>

                                                        <h6 id="fail-product-use-by-error" class="comparison-lable-text">xxxxxxxxxxx</h6>
                                                    </div>
                                                    <hr />
                                                </div>
                                                <div>
                                                    <div>
                                                        <h6 class="comparison-lable-text" id="w-catlognum-error"> Work Order Catalog Num</h6>
                                                    </div>
                                                    <div>

                                                        <h6 id="fail-wo-catalog-no-error" class="comparison-lable-text">xxxxxxxxxxx</h6>
                                                    </div>
                                                    <hr />
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                       
                   
                    <div class="col-md-4">
                        <div class="col-6" id="navigation-container">
                            <div class="navigation-container">
                                <div class="row">
                                    <div class="col-12">
                                        <a id="rescanBtn" class="approve-button" onclick="reloadPage()"><span class="approve-text">Rescan</span></a>
                                    </div>
                                    <div class="col-12">
                                        <a class="reject-button" asp-area="" asp-controller="Home" asp-action="WorkOrderScan"><span class="reject-text">New Work Order</span></a>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    </div>
                    

                </div>

                <div class="col-md-4 right-scan">
                    <div class="product-spec-container temp-fail-button">
                        <div class="product-spec">
                            <div id="before-scan-lot-no">
                                <img src="/assets/images/before-scanning.png" class="scanning-stage-img-size" />
                            </div>
                            <div class="temp-display" id="during-scan-lot-no">
                                <img src="/assets/images/scanning-stage-icon.png" class="scanning-stage-img-size" />
                            </div>
                            <div class="temp-display" id="after-scan-pass-lot-no">
                                <img src="/assets/images/after-scanned-pass-icon.png" class="scanning-stage-img-size" />
                            </div>
                            <div class="temp-display" id="after-scan-fail-lot-no">
                                <img src="/assets/images/after-scanned-fail-icon.png" class="scanning-stage-img-size" />
                            </div>
                            <div>
                                <h6 class="product-spec-text">Lot Number</h6>
                            </div>
                        </div>
                        <div class="product-spec">
                            <div id="before-scan-gtin">
                                <img src="/assets/images/before-scanning.png" class="scanning-stage-img-size" />
                            </div>
                            <div class="temp-display" id="during-scan-gtin">
                                <img src="/assets/images/scanning-stage-icon.png" class="scanning-stage-img-size" />
                            </div>
                            <div class="temp-display" id="after-scan-pass-gtin">
                                <img src="/assets/images/after-scanned-pass-icon.png" class="scanning-stage-img-size" />
                            </div>
                            <div class="temp-display" id="after-scan-fail-gtin">
                                <img src="/assets/images/after-scanned-fail-icon.png" class="scanning-stage-img-size" />
                            </div>
                            <div>
                                <h6 class="product-spec-text">GTIN</h6>
                            </div>
                        </div>
                        <div class="product-spec">
                            <div id="before-scan-cat-no">
                                <img src="/assets/images/before-scanning.png" class="scanning-stage-img-size" />
                            </div>
                            <div class="temp-display" id="during-scan-cat-no">
                                <img src="/assets/images/scanning-stage-icon.png" class="scanning-stage-img-size" />
                            </div>
                            <div class="temp-display" id="after-scan-pass-cat-no">
                                <img src="/assets/images/after-scanned-pass-icon.png" class="scanning-stage-img-size" />
                            </div>
                            <div class="temp-display" id="after-scan-fail-cat-no">
                                <img src="/assets/images/after-scanned-fail-icon.png" class="scanning-stage-img-size" />
                            </div>
                            <div>
                                <h6 class="product-spec-text">Catalogue Number</h6>
                            </div>
                        </div>
                        <div class="product-spec">
                            <div id="before-scan-label-spec">
                                <img src="/assets/images/before-scanning.png" class="scanning-stage-img-size" />
                            </div>
                            <div class="temp-display" id="during-scan-label-spec">
                                <img src="/assets/images/scanning-stage-icon.png" class="scanning-stage-img-size" />
                            </div>
                            <div class="temp-display" id="after-scan-pass-label-spec">
                                <img src="/assets/images/after-scanned-pass-icon.png" class="scanning-stage-img-size" />
                            </div>
                            <div class="temp-display" id="after-scan-fail-label-spec">
                                <img src="/assets/images/after-scanned-fail-icon.png" class="scanning-stage-img-size" />
                            </div>
                            <div>
                                <h6 class="product-spec-text">Label Specification</h6>
                            </div>
                        </div>
                        <div class="product-spec">
                            <div id="before-scan-use-date">
                                <img src="/assets/images/before-scanning.png" class="scanning-stage-img-size" />
                            </div>
                            <div class="temp-display" id="during-scan-use-date">
                                <img src="/assets/images/scanning-stage-icon.png" class="scanning-stage-img-size" />
                            </div>
                            <div class="temp-display" id="after-scan-pass-use-date">
                                <img src="/assets/images/after-scanned-pass-icon.png" class="scanning-stage-img-size" />
                            </div>
                            <div class="temp-display" id="after-scan-fail-use-date">
                                <img src="/assets/images/after-scanned-fail-icon.png" class="scanning-stage-img-size" />
                            </div>
                            <div>
                                <h6 class="product-spec-text">Use By Date</h6>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

             <div id="popupContainer1">
                <div id="popupContent1">
                    <a class="close" href="javascript:void(0);" onclick="closePopup()">X</a>
                    <img src="~/assets/images/Barcode image 2.png" alt="Barcode Icon" id="scan-image">
                    <h5 class="supr-txt">Place Your Supervisor Badge</h5>
                    <h5 id="under">under the scanner</h5>
                    <input id="supervisorInput1" placeholder="Super Visor Id" name="supervisorInput1" autocomplete="off" />
                    <br />
                    <button id="redButton" class="redButton" onclick="redbutton('supervisorInput1')">Continue</button>
                    <br />
                    <span class="error-message text-danger"></span>
                </div>
            </div>




            <div id="popupContainer">
                <div id="popupContent">
                    <a class="close" href="javascript:void(0);" onclick="closePopup()">X</a>
                    <img src="~/assets/images/Barcode image 2.png" alt="Barcode Icon" id="scan-image">
                    <h5 class="supr-txt">Place Your Supervisor Badge</h5>
                    <h5 id="under">under the scanner</h5>
                    <input id="supervisorInput" placeholder="Super Visor Id" name="supervisorInput" autocomplete="off" />
                    <br />
                    <button id="greenButton" class="greenButton" onclick="configureContinueButton('supervisorInput')">Continue</button>
                    <br />
                    <span class="error-message text-danger"></span>
                </div>
            </div>



            <div class="row bottom">
                <div class="col-md-8">
                    <div id="left-part-before-scan" class="left-part ">
                        <h6 class="scanning-loading-text">
                            Status Indicator
                        </h6>
                    </div>
                    <div id="left-part-during-scan" class="left-part temp-display" style="display:none">
                        <h6 class="scanning-loading-text">
                            Scanning...
                        </h6>
                    </div>
                    <div id="left-part-after-scan-pass" class="left-part-pass temp-display">
                        <h6 class="pass-text">
                            Data Verified
                        </h6>
                    </div>
                    <div id="left-part-after-scan-fail" class="left-part-fail temp-display">
                        <h6 class="pass-text">
                            Data Mismatch
                        </h6>
                    </div>
                </div>


                <div class="col-md-4"  style="display:flex;" id="btn-end">
                    <div id="next-scan-button" class="col-6 right-part-container temp-reset-button disabled" style="margin-right:10px;">                      
                                <span class="scanning-next-text">
                              <a asp-area="" asp-controller="Home" asp-action="WorkOrderScan" id="home">New WorkOrder</a></span>                                              
                        </div>
                    <div id="next-scan-button1" class="col-6 right-part-container disabled">
                        <span class="scanning-next-text">
                            <a href="#" id="nxt-scn-btn">Next Scan</a>
                        </span>
                        <img class="next-img" src="/assets/images/next-button.png" />
                    </div>

                </div>
               </div>

            </div>
            <br/>
        </div>
</body>
<style>
.disabled {
    pointer-events: none; /* Prevent interaction */
    cursor: not-allowed; /* Change cursor to not-allowed */
}

    #next-scan-button a {
        text-decoration: none;
        color:#FFF;
    }

    #next-scan-button1 a {
        text-decoration: none;
        color: #FFF;
    }
   .brdr-bottom{
        border-bottom: 1px solid black;
        margin-bottom: 6px;
   }
   .packaging{
    margin-bottom: 8px;
    font-weight: 600;
    font-size: 20px;
   }
    #error{
        height:45%;
        display:flex;
    }
     #error1{
        height:45%;
        display:flex;
    }

    .bottom {
        margin-top: -13px;
    }

    .full-div {
        display: flex;
        flex-direction: column;
        gap: 1rem;
        height: 75%;
    }

    #first-row {
        height: -webkit-fill-available;
    }

    #first-column {
        display: flex;
        flex-direction: column;
        gap: 0.5rem;
    }


    .scn {
        height: 50%;
        display: flex;
        background-color: aliceblue;
        padding: 0.5rem;
    }

    #under {
        margin-left: 38px;
        text-align: center;
        font-size: 23px;
        font-weight: 400;
    }

    #scan-image {
        width: 313px;
        margin-left: 81px;
    }

    #supervisorInput {
        margin-left: 152px;
        width: 151px;
        height: 43px;
        border-radius: 10px;
        border: 1px solid;
        font-size: 20px;
        text-align: center;
    }

    #supervisorInput1 {
        margin-left: 152px;
        width: 151px;
        height: 43px;
        border-radius: 10px;
        border: 1px solid;
        font-size: 20px;
        text-align: center;
    }

    #spr-err-txt {
        margin-left: 96px
    }

    hr {
        color: black;
    }

    .next-button-align {
        /* padding-left: 27px; */
        /* padding-top: 8px; */
        display: flex;
        align-items: center;
        justify-content: center;
    }

    .approve-button {
        display: block;
        width: 150px;
        height: 60px;
        background: #FFB246;
        padding: 10px;
        text-align: center;
        border-radius: 12px;
        color: white;
        font-weight: bold;
        line-height: 40px;
        margin-bottom: 17px;
        /* margin: auto; */
        text-decoration: none;
    }

    .reject-button {
        display: block;
        width: 155px;
        height: 56px;
        background: #FF0000;
        padding: 10px;
        text-align: center;
        border-radius: 12px;
        color: white;
        font-weight: bold;
        line-height: 40px;
        margin: auto;
        text-decoration: none;
    }

    .next-img {
        height: 24px;
        width: 24px;
        vertical-align: -5px;
    }

    .comparison-lable-text {
        color: black;
    }

    .data-table {
        display: flex;
        justify-content: space-around;
    }

    .data-table-pass {
        display: flex;
        padding-left: 42px;
        gap: 250px;
    }

    .data-table-pass-supervisor {
        display: flex;
    }

    .mismatch-text {
        color: #003C71;
        font-size: 20px;
        font-weight: 700;
        padding-bottom: 10px;
    }

    supervisor-container {
        width: 100%;
        display: flex;
        justify-content: center;
        padding-top: 14px;
        gap: 20px;
    }

    .data-comparison {
        padding: 4px;
        width: 100%;
        max-height: 200px;
        background-color: #EAF5FF;
        border-radius: 10px;
        overflow: auto;
    }


    .data-comparison-pass {
        height: 319px;
        background-color: #EAF5FF;
        border-radius: 10px;
    }

    .navigation-container {
        display: flex;
        flex-direction: column;
        gap: 10px;
        background:transparent !important;
    }

    .temp-display {
        display: none;
    }

    .pt-15 {
        padding-top: 15px;
    }


    .container-fluid {
        height: 100vh;
    }

    .image-div {
        position: relative;
        float: right;
    }

    .heading {
        display: flex;
        gap: 307px;
        justify-content: center;
    }

    .image-size {
        width: 560px;
        height: 52px;
    }

    .heading-text {
        font-size: 27px;
        vertical-align: -12px;
    }


    .p-17 {
        padding: 17px;
    }

    .mid-content {
        display: flex;
        justify-content: center;
    }

    #left-content {
        /* max-height: 116px; */
        display: flex;
        flex-direction: column;
        width: 746px;
        color: red;
    }


    .right-content {
        /* margin-top: 79px; */
        width: 476px;
        color: blue;
        padding-left: 10px;
    }

    .count-data {
        height: 50%;
        background-color: #003C71;
        border-radius: 10px;
    }


    .scanning-icon {
        /*height: 322px;*/
    }

    .center {
        background-color: aliceblue;
        display: flex;
        justify-content: center;
        align-items: center;
    }

    .processing-lot-text {
        padding-top: 5px;
        padding-left: 17px;
        font-size: 21px;
        font-weight: 300;
        color: white;
    }


    .processing-lot-no {
        font-weight: 700;
    }

    .p-10 {
        padding: 1px;
    }

    .data-stat {
        margin-left: 12px;
        width: 96%;
        display: flex;
        gap: 10px;
        justify-content: center;
        height: 86%;
    }


    .data-card {
        padding: 7px;
        width: 24%;
        height: 85%;
        border-radius: 5px;
    }


    .data-heading {
        height: 31px;
        display: flex;
        justify-content: space-between;
    }

    .data-val {
        height: 61%;
    }


    .data-heading-text {
        color: #003C71;
        font-size: 21px;
        font-weight: 700;
    }

    .data-val-text {
        font-size: 60px;
        font-weight: 600;
        color: #003C71;
        text-align: end;
    }

    .pass-icon {
        width: 21px;
        height: 21px;
    }

    .barcode-img-size {
        height: 90%;
        width: 100%;
        vertical-align: -17px;
        object-fit: contain;
        background-color: aliceblue;
    }


    .scanning-icon {
        max-height: 100%;
        display: flex;
        justify-content: space-between;
        padding-top: 10px;
    }

    .scanning-instruction {
        width: 363px;
        /*background-color: #C5C5C5;*/
        display: flex;
        align-items: center;
        border-radius: 10px;
    }

    .scanning-failed-instruction {
        width: 363px;
        background-color: #003C71;
        display: flex;
        align-items: center;
        border-radius: 10px;
    }

    .scanning-text-1 {
        color: white;
        font-size: 28px;
        font-weight: 700;
        text-align: center;
    }

    .lbl {
        border-radius: 12px;
        display: flex;
        align-items: center;
        justify-content: center;
    }

    .scanning-text-container {
        margin: auto;
    }

    .product-spec {
        display: flex;
        gap: 15px;
        padding-left: 10px;
    }

    .scanning-stage-img-size {
        height: 50px;
        width: 50px;
    }

    .product-spec-container {
        height: 100%;
        display: flex;
        flex-direction: column;
        gap: 13px;
        padding-bottom: 20px;
        border-radius: 10px;
        justify-content: center;
    }


    .right-scan {
        margin-bottom: 12px;
        background-color: aliceblue;
    }

    .product-spec-text {
        font-size: 25px;
        font-weight: 600;
        color: black;
        padding-top: 5px;
    }

    .loading-and-nav {
        position: relative;
        display: flex;
        padding-top: 10px;
        justify-content: center;
        bottom: 17px;
    }

    bar-scn {
        display: flex;
        justify-content: center;
        align-items: center;
    }

    .left-part {
        border: 1px solid;
        border-radius: 7px;
        display: flex;
        align-items: center;
        height: 50px;
    }



    .right-part {
        /* padding-top: 26px; */
        width: 473px;
        padding-left: 10px;
        margin-top: 13px;
    }

    .right-part-container {
        background-color: #C5C5C5;
        height: 51px;
        border-radius: 10px;
    }

    .scanning-loading-text {
        font-size: 24px;
        font-weight: 700;
        color: #003C71;
        padding-left: 15px;
        padding-top: 4px;
    }

    .scan-input {
        height: 44px;
        border-radius: 10px;
        border: 1px solid;
        font-size: 20px;
        text-align: center;
    }

    #productLabelInput {
        border-radius: 7px;
        width: 100%;
    }


   #productLabelSpec {
    border-radius: 7px;
    width: 100%;
}

    #submitBtn {
    border-radius: 8px;
    display: block;
    margin-left: auto;
    height:100%;
}


    .inpt1 {
        margin-bottom: 7px
    }
    .scanning-next-text {
        padding-left: 16px;
        font-size: 24px;
        font-weight: 500;
        color: white;
        text-align: center;
    }

    .pr-70 {
        padding-right: 70px;
    }

    .scanning-icon {
        max-height: 190px;
        display: flex;
        justify-content: space-between;
        padding-top: 10px;
    }

    .left-part-pass {
        width: 772px;
        height: 54px;
        border-radius: 10px;
        background-color: #00E13F;
    }

    .left-part-fail {
    margin-top: 5px;
    height: 44px;
    border-radius: 9px;
    background-color: #FF0000;
}
    .pass-text {
        font-size: 24px;
        font-weight: 600;
        color: white;
        padding-left: 15px;
        padding-top: 7px;
    }

    .approve-text {
        font-size: 24px;
        font-weight: 600;
        color: black;
    }

    .reject-text {
        font-size: 15px;
        font-weight: 600;
        color: white;
    }

    .navigation-header-result {
        /* padding: 20px; */
        display: flex;
        justify-content: center;
        gap: 634px;
        padding-left: 0px;
        padding-top: 10px;
    }

    .temp-flex {
        display: flex;
        justify-content: center;
        gap: 10px;
        padding-bottom: 10px;
        align-items: center;
    }

    /* Styles for the popup container */
    #popupContainer {
        display: none;
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background-color: rgba(0, 0, 0, 0.5);
        z-index: 999;
    }

    #popupContainer1 {
        display: none;
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background-color: rgba(0, 0, 0, 0.5);
        z-index: 999;
    }



    /* Styles for the popup content */
    #popupContent {
        width: 477px;
        position: absolute;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        background-color: #fff;
        padding: 20px;
        border-radius: 16px;
        box-shadow: 0 0 10px rgba(0, 0, 0, 0.3);
    }

    #popupContent1 {
        width: 477px;
        position: absolute;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        background-color: #fff;
        padding: 20px;
        border-radius: 16px;
        box-shadow: 0 0 10px rgba(0, 0, 0, 0.3);
    }

    /* Style for the green button inside the popup */
    #greenButton {
        background-color: green;
        color: white;
        padding: 10px 20px;
        border: none;
        border-radius: 5px;
        cursor: pointer;
        margin-left: 180px;
        margin-top: 14px;
        margin-bottom: 8px;
    }

    #redButton {
        background-color: green;
        color: white;
        padding: 10px 20px;
        border: none;
        border-radius: 5px;
        cursor: pointer;
        margin-left: 180px;
        margin-top: 14px;
        margin-bottom: 8px;
    }

    .supr-txt {
        display: flex;
        font-weight: 400;
        align-items: center;
        margin-left: 87px;
        font-size: 25px;
    }

    #total {
        background-color: #EAF5FF;
    }

    #pass {
        background-color: #BEF8A7;
    }

    #fail {
        background-color: #F09785;
    }

    #rescan {
        background-color: #F9EFC6;
    }

    .border {
        border: 2px solid #0AC5F3;
    }

    #before-scan-text {
        height: 155px !important;
    }
    #after-scan-fail-text{
        height:155px !important
    }
    #after-scan-fail-text1{
        height:155px !important
    }

    .close {
        float: right;
        text-decoration: none;
        color: #333;
        font-weight: 700;
    }

    /*#home {
       color: #EAF5FF;
    }
    #nxt-scn-btn{
        color: #EAF5FF;
    }*/


</style>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/js/bootstrap.bundle.min.js" integrity="sha384-HwwvtgBNo3bZJJLYd8oVXjrBZt8cqVSpeBNS5n7C8IVInixGAoxmnlMuBnhbgrkm" crossorigin="anonymous"></script>

<script type="text/javascript">

    //$(document).ready(function (){
    //    ("#productlabelform").submit(function(e) {
    //        e.preventDefault();
    //        beforeToDuringScan()
    //    });
    //    });


    let inPassScenario = false;
    let inFailScenario = false;
    let responseData = null;
    let superVisorInput = false;
    document.getElementById("error").style.display = "none";
    //document.getElementById("error1").style.display = "none";
    document.getElementById("navigation-container").style.display = "none";
    document.getElementById("next-scan-button").style.backgroundColor = "#C5C5C5";
    document.getElementById("next-scan-button1").style.backgroundColor = "#C5C5C5";
    document.getElementById("home").style.color= "#FFF";
    document.getElementById("nxt-scn-btn").style.color = "#FFF";
    document.getElementById("after-scan-fail-text1").style.display = "none";
    
    //document.getElementsByClassName('temp-button')[0]
    //    .addEventListener('click', function (event) {
    //        beforeToDuringScan();
    //          setTimeout(duringToScanPass, 3000);

    //    });

    document.getElementsByClassName('temp-supervisor-call-button')[0]
       .addEventListener('click', function (event) {
           showPopup();
       });
    document.getElementsByClassName('temp-supervisor-call-button1')[0]
        .addEventListener('click', function (event) {
            showPopup1();
        });


    //document.getElementByClassName('greenButton')[0]
    //    .addEventListener('click',function(event)
    //    {
    //        ScanFailToSupervisor();
    //        setScannedFailData(responseData);
    //    })
    //$('#greenButton').click(function(){
    //    closePopup();
    //    ScanFailToSupervisor();
    //       setScannedFailData(responseData,responseData.mismatches);
    //});


    document.getElementsByClassName('temp-reset-button')[0]
        .addEventListener('click', function (event) {
            //if (inPassScenario) {
            //    inPassScenario = false;
            //    resetPassScenario();
            //}
            var targetUrl = "/WorkOrderScan";
            window.location.href = targetUrl;

        });

    //document.getElementsByClassName('temp-fail-button')[0]
    // .addEventListener('click', function (event) {
    //     // do something
    //       console.log("fail button clicked");
    //       inFailScenario = true;
    //       if (inFailScenario) {
    //           inFailScenario = false;
    //            beforeToDuringScan();
    //            setTimeout(duringToScanFail, 3000);
    //            setTimeout(ScanFailToSupervisor, 5000);
    //       }


    // });

    function beforeToDuringScan() {
         
          document.getElementById("before-scan-lot-no").style.display = "none";
          document.getElementById("during-scan-lot-no").style.display = "block";

          document.getElementById("before-scan-gtin").style.display = "none";
          document.getElementById("during-scan-gtin").style.display = "block";

          document.getElementById("before-scan-cat-no").style.display = "none";
          document.getElementById("during-scan-cat-no").style.display = "block";

          document.getElementById("before-scan-label-spec").style.display = "none";
          document.getElementById("during-scan-label-spec").style.display = "block";

          document.getElementById("before-scan-use-date").style.display = "none";
          document.getElementById("during-scan-use-date").style.display = "block";

          document.getElementById("left-part-before-scan").style.display = "none";
          document.getElementById("left-part-during-scan").style.display = "block";
          document.getElementById("popupContainer").style.display = "none";
        document.getElementById("popupContainer1").style.display = "none";
    }

    function duringToScanPass() {
        inPassScenario = true;
        document.getElementById("during-scan-lot-no").style.display = "none";
        document.getElementById("after-scan-pass-lot-no").style.display = "block";

        document.getElementById("during-scan-gtin").style.display = "none";
        document.getElementById("after-scan-pass-gtin").style.display = "block";

        document.getElementById("during-scan-cat-no").style.display = "none";
        document.getElementById("after-scan-pass-cat-no").style.display = "block";

        document.getElementById("during-scan-label-spec").style.display = "none";
        document.getElementById("after-scan-pass-label-spec").style.display = "block";

        document.getElementById("during-scan-use-date").style.display = "none";
        document.getElementById("after-scan-pass-use-date").style.display = "block";

        document.getElementById("left-part-during-scan").style.display = "none";
        document.getElementById("left-part-after-scan-pass").style.display = "block";

        document.getElementById("next-scan-button").style.backgroundColor = "#003C71";
        document.getElementById("next-scan-button1").style.backgroundColor = "#003C71";
        document.getElementById("before-scan-text").style.display = "block";

        document.getElementById("popupContainer").style.display = "none";
        document.getElementById("popupContainer1").style.display = "none";
        document.getElementById("next-scan-button").classList.remove("disabled");
        document.getElementById("next-scan-button1").classList.remove("disabled");
    }
    function duringToScanFail(response) {
        document.getElementById("popupContainer").style.display = "none";
         document.getElementById("popupContainer1").style.display = "none";
        document.getElementById("scanning-icon-div").style.backgroundColor = "#FFB5B5";

        document.getElementById("before-scan-text").style.display = "none";
        document.getElementById("after-scan-fail-text").style.display = "flex";

        document.getElementById("before-scan-image").style.display = "none";
        document.getElementById("after-scan-fail-image").style.display = "block";

        document.getElementById("during-scan-lot-no").style.display = "none";
        if (response.mismatches.lotNoMismatch) {
            document.getElementById("after-scan-fail-lot-no").style.display = "block";
        } else {
            document.getElementById("after-scan-pass-lot-no").style.display = "block";
        }

        document.getElementById("during-scan-gtin").style.display = "none";
        if (response.mismatches.GTINMismatch) {
            document.getElementById("after-scan-fail-gtin").style.display = "block";
        } else {
            document.getElementById("after-scan-pass-gtin").style.display = "block";
        }

        document.getElementById("during-scan-cat-no").style.display = "none";
        if (response.mismatches.catalogNumMismatch) {
            document.getElementById("after-scan-fail-cat-no").style.display = "block";
        } else {
            document.getElementById("after-scan-pass-cat-no").style.display = "block";
        }

        document.getElementById("during-scan-label-spec").style.display = "none";
        if (response.mismatches.labelSpecMismatch) {
            document.getElementById("after-scan-fail-label-spec").style.display = "block";
        } else {
            document.getElementById("after-scan-pass-label-spec").style.display = "block";
        }

        document.getElementById("during-scan-use-date").style.display = "none";
        if (response.mismatches.calculatedUseByMismatch) {
            document.getElementById("after-scan-fail-use-date").style.display = "block";
        } else {
            document.getElementById("after-scan-pass-use-date").style.display = "block";
        }

        document.getElementById("left-part-during-scan").style.display = "none";
        document.getElementById("left-part-after-scan-fail").style.display = "block";
        $("#btn-end > div").addClass("disabled").off('click');

    }

    function GtinMismatch(response) {
        if (response.gtinMismatch) {
            // Increment both values by 1
            document.getElementById("total-val").innerHTML = parseInt(document.getElementById("total-val").innerHTML) + 1;
            document.getElementById("total-failed-val").innerHTML = parseInt(document.getElementById("total-failed-val").innerHTML) + 1;
        }
        document.getElementById("popupContainer").style.display = "none";
        document.getElementById("popupContainer1").style.display = "none";
        document.getElementById("scanning-icon-div").style.backgroundColor = "#FFB5B5";

        document.getElementById("before-scan-text").style.display = "none";
        document.getElementById("after-scan-fail-text1").style.display = "flex";

        document.getElementById("before-scan-image").style.display = "none";
        document.getElementById("after-scan-fail-image").style.display = "block";
        document.getElementById("during-scan-gtin").style.display = "none";
        document.getElementById("after-scan-fail-gtin").style.display = "block";

        if(response.lotnoMismatch){
            document.getElementById("during-scan-lot-no").style.display = "none";
            document.getElementById("after-scan-fail-lot-no").style.display = "block";
        }
        else{
            document.getElementById("during-scan-lot-no").style.display = "block";
        }
        if(response.catalogMismatch){
            document.getElementById("during-scan-cat-no").style.display = "none";
            document.getElementById("after-scan-fail-cat-no").style.display = "block";
        }
        else{
        document.getElementById("during-scan-cat-no").style.display = "block";
        }
        if (response.labelMismatch) {
            document.getElementById("after-scan-fail-label-spec").style.display = "block";
            document.getElementById("during-scan-label-spec").style.display = "none";
        } else {
            document.getElementById("during-scan-label-spec").style.display = "block";
        }
        if(response.firstUseby_Mismatch){
         document.getElementById("during-scan-use-date").style.display = "none";
         document.getElementById("after-scan-fail-use-date").style.display = "block";
        }
        else{
        document.getElementById("during-scan-use-date").style.display = "block";
        }
        document.getElementById("left-part-during-scan").style.display = "none";
        document.getElementById("left-part-after-scan-fail").style.display = "block";
       $("#btn-end > div").addClass("disabled").off('click');
        
    }

    


    function ScanFailToSupervisor() {
        document.getElementById("popupContainer").style.display = "none";
         document.getElementById("popupContainer1").style.display = "none";
        document.getElementById("scanning-icon-div").style.display = "none";
        document.getElementById("supervisor-intervention").style.display = "flex";
    }
    function ScanFailToSupervisor1() {
        document.getElementById("popupContainer").style.display = "none";
        document.getElementById("popupContainer1").style.display = "none";
        document.getElementById("scanning-icon-div").style.display = "none";
        document.getElementById("supervisor-intervention").style.display = "flex";
    }

    function resetPassScenario() {
        
        document.getElementById("popupContainer").style.display = "none";
         document.getElementById("popupContainer1").style.display = "none";
        document.getElementById("after-scan-pass-lot-no").style.display = "none";
        document.getElementById("before-scan-lot-no").style.display = "block";

        document.getElementById("after-scan-pass-gtin").style.display = "none";
        document.getElementById("before-scan-gtin").style.display = "block";

        document.getElementById("after-scan-pass-cat-no").style.display = "none";
        document.getElementById("before-scan-cat-no").style.display = "block";

        document.getElementById("after-scan-pass-label-spec").style.display = "none";
        document.getElementById("before-scan-label-spec").style.display = "block";

        document.getElementById("after-scan-pass-use-date").style.display = "none";
        document.getElementById("before-scan-use-date").style.display = "block";

        document.getElementById("left-part-after-scan-pass").style.display = "none";
        document.getElementById("left-part-before-scan").style.display = "block";

        document.getElementById("next-scan-button").style.backgroundColor = "#C5C5C5";
    }

    function showPopup() {
        document.getElementById("scanning-icon-div").style.backgroundColor = "#FFB5B5";
        document.getElementById("after-scan-fail-image").style.display = "block";
        document.getElementById("after-scan-fail-text").style.display = "flex";
        document.getElementById("popupContainer").style.display = "block";
        document.getElementById("popupContainer1").style.display = "none";
        superVisorInput = true;
    }

    function showPopup1() {
        document.getElementById("scanning-icon-div").style.backgroundColor = "#FFB5B5";
        document.getElementById("after-scan-fail-image").style.display = "block";
        document.getElementById("after-scan-fail-text1").style.display = "flex";
        document.getElementById("popupContainer").style.display = "none";
        document.getElementById("popupContainer1").style.display = "block";
        superVisorInput = true;
    }

    function closePopup() {
        document.getElementById("popupContainer").style.display = "none";
        document.getElementById("popupContainer1").style.display = "none";
        superVisorInput = false;
    }


    $(document).on("click", "#submitBtn", function () {
        // Disable the input fields and button
        $("#productLabelInput, #productLabelSpec, #submitBtn").prop("disabled", true);
        document.getElementById("after-scan-fail-gtin").style.display = "none";
        document.getElementById("after-scan-fail-text1").style.display = "none";
        var productLabel = document.getElementById("productLabelInput").value;
        var productLabelSpec = document.getElementById("productLabelSpec").value;
        var apiUrl = "/SaveProductLabel";
        beforeToDuringScan();

        $.ajax({
            url: apiUrl,
            method: "POST",
            data: { productLabel: productLabel, productLabelSpec: productLabelSpec, udpMessage: udpMessageValue },
            success: function (response) {
                console.log(response);
                if(response.gtinMismatch) {
                    responseData= response;
                    GtinMismatch(response);
                }else {
                    responseData = response;
                    processResponse(response);
                }
            },
            error: function (xhr, status, error) {
                if (xhr.responseJSON && xhr.responseJSON.errorMessage) {
                    var errorMessage = xhr.responseJSON.errorMessage;
                    $("#productLabelInputError").text(errorMessage);
                    setTimeout(function () {
                        $("#productLabelInputError").text("");
                        location.reload();
                    }, 5000);
                } else {
                    console.log("An error occurred while making the AJAX call:", error);
                }
            },
            complete: function () {
                // Re-enable the input fields and button after the AJAX request is complete
                $("#productLabelInput, #productLabelSpec, #submitBtn").prop("disabled", true);
            }
        });
    });

    $(document).on("click", "#rescanBtn", function () {
        var productLabel = document.getElementById("productLabelInput").value;
        var productLabelSpec = document.getElementById("productLabelSpec").value;

        var apiUrl = "/SaveProductLabel";
        beforeToDuringScan();
        $.ajax({
            url: apiUrl,
            method: "POST",
            data: { productLabel: productLabel, productLabelSpec: productLabelSpec, udpMessage: udpMessageValue },
            success: function (response) {
                console.log(response);
                location.reload();
                responseData = response;
                processResponse(response);
            },
            error: function (xhr, status, error) {
                console.log("An error occurred while making the AJAX call:", error);
            }


        });
    });
     $(document).on("click", "#rescanBtn1", function () {
        var productLabel = document.getElementById("productLabelInput").value;
        var productLabelSpec = document.getElementById("productLabelSpec").value;

        var apiUrl = "/SaveProductLabel";
        beforeToDuringScan();
        $.ajax({
            url: apiUrl,
            method: "POST",
            data: { productLabel: productLabel, productLabelSpec: productLabelSpec, udpMessage: udpMessageValue },
            success: function (response) {
                console.log(response);
                location.reload();
                responseData = response;
                processResponse(response);
            },
            error: function (xhr, status, error) {
                console.log("An error occurred while making the AJAX call:", error);
            }


        });
    });


    function processResponse(response) {
        console.log("response hit");
        console.log(response.allMatch);
        if (response.allMatch == true) {
            //setTimeout(duringToScanPass, 3000);
            duringToScanPass();
        } else {
            //setTimeout(duringToScanFail, 3000);
            duringToScanFail(response);
        }
        setWorkOrderInfo(response);
        setScannedData(response);
    }

    function setScannedData(response) {
        console.log("set data called");
        document.getElementById("fail-gtin-error").innerHTML = response.lhsData.dbGTIN;
        document.getElementById("fail-lotno-error").innerHTML = response.lhsData.workOrderLotNo;
        document.getElementById("fail-label-spec-error").innerHTML = response.lhsData.dbLabelSpec;
        document.getElementById("fail-calc-use-by-error").innerHTML = response.lhsData.calculatedUseBy;
        document.getElementById("fail-db-catalog-num-error").innerHTML = response.lhsData.dbCatalogNo;

        document.getElementById("fail-product-gtin-error").innerHTML = response.rhsData.productLabelGTIN;
        document.getElementById("fail-product-lot-no-error").innerHTML = response.rhsData.productLotNo;
        document.getElementById("fail-product-label-spec-error").innerHTML = response.rhsData.productLabelSpec;
        document.getElementById("fail-product-use-by-error").innerHTML = response.rhsData.productUseBy;
        document.getElementById("fail-wo-catalog-no-error").innerHTML = response.rhsData.workOrderCatalogNo;

    }

    function setScannedFailData(response, mismatches) {
        console.log("set data for fail called");
        document.getElementById("after-scan-fail-text").style.display = "none";
       document.getElementsByClassName("scn")[0].style.display = "none";
        document.getElementById("error").style.display = "flex";
        document.getElementById("navigation-container").style.display = "block";
        document.getElementById("next-scan-button").style.backgroundColor = "#C5C5C5";
        document.getElementById("next-scan-button1").style.backgroundColor = "#C5C5C5";
        document.getElementById("fail-gtin-error").innerHTML = response.lhsData.dbGTIN;
        document.getElementById("fail-lotno-error").innerHTML = response.lhsData.workOrderLotNo;
        document.getElementById("fail-label-spec-error").innerHTML = response.lhsData.dbLabelSpec;
        document.getElementById("fail-calc-use-by-error").innerHTML = response.lhsData.calculatedUseBy;
        document.getElementById("fail-db-catalog-num-error").innerHTML = response.lhsData.dbCatalogNo;
        if (mismatches.GTINMismatch) {
            document.getElementById("pa-gtin").style.color = "red";
            document.getElementById("fail-product-gtin-error").innerHTML = response.rhsData.productLabelGTIN;
            document.getElementById("fail-product-gtin-error").style.color = "red";
        } else {
            document.getElementById("pa-gtin").style.color = "black";
            document.getElementById("fail-product-gtin-error").innerHTML = response.rhsData.productLabelGTIN;
            document.getElementById("fail-product-gtin-error").style.color = "black";
        }
        if (mismatches.lotNoMismatch) {
            document.getElementById("p-lotnum-error").style.color = "red";
            document.getElementById("fail-product-lot-no-error").innerHTML = response.rhsData.productLotNo;
            document.getElementById("fail-product-lot-no-error").style.color = "red";
        } else {
            document.getElementById("p-lotnum-error").style.color = "black";
            document.getElementById("fail-product-lot-no-error").innerHTML = response.rhsData.productLotNo;
            document.getElementById("fail-product-lot-no-error").style.color = "black";
        }

        if (mismatches.labelSpecMismatch) {
            document.getElementById("p-labelspec-error").style.color = "red";
            document.getElementById("fail-product-label-spec-error").innerHTML = response.rhsData.productLabelSpec;
            document.getElementById("fail-product-label-spec-error").style.color = "red";
        } else {
            document.getElementById("p-labelspec-error").style.color = "black";
            document.getElementById("fail-product-label-spec-error").innerHTML = response.rhsData.productLabelSpec;
            document.getElementById("fail-product-label-spec-error").style.color = "black";
        }
        if (mismatches.calculatedUseByMismatch) {
            document.getElementById("p-useby-error").style.color = "red";
            document.getElementById("fail-product-use-by-error").innerHTML = response.rhsData.productUseBy;
            document.getElementById("fail-product-use-by-error").style.color = "red";
        } else {
            document.getElementById("p-useby-error").style.color = "black";
            document.getElementById("fail-product-use-by-error").innerHTML = response.rhsData.productUseBy;
            document.getElementById("fail-product-use-by-error").style.color = "black";
        }
        if (mismatches.catalogNumMismatch) {
            document.getElementById("w-catlognum-error").style.color = "red";
            document.getElementById("fail-wo-catalog-no-error").innerHTML = response.rhsData.workOrderCatalogNo;
            document.getElementById("fail-wo-catalog-no-error").style.color = "red";
        } else {
            document.getElementById("w-catlognum-error").style.color = "black";
            document.getElementById("fail-wo-catalog-no-error").innerHTML = response.rhsData.workOrderCatalogNo;
            document.getElementById("fail-wo-catalog-no-error").style.color = "black";
        }
        
      

    }
    function setScannedFailData1(response) {
        console.log("set data for fail called");
        document.getElementById("after-scan-fail-text").style.display = "none";
        document.getElementsByClassName("scn")[0].style.display = "none";
        document.getElementById("error").style.display = "flex";
        document.getElementById("navigation-container").style.display = "block";
        document.getElementById("next-scan-button").style.backgroundColor = "#C5C5C5";
        document.getElementById("next-scan-button1").style.backgroundColor = "#C5C5C5";
        if (response.gtinMismatch == true) {
            document.getElementById("pa-gtin").style.color = "red";
            document.getElementById("fail-product-gtin-error").innerHTML = response.product_Gtin;
            document.getElementById("fail-product-gtin-error").style.color = "red";
            document.getElementById("fail-gtin-error").innerHTML = response.db_Gtin;
            document.getElementById("fail-gtin-error").style.color= "black";
        }
        if (response.lotnoMismatch == true){
            document.getElementById("fail-lotno-error").innerHTML = response.wO_Lot_No;
            document.getElementById("fail-lotno-error").style.color = "black";
            document.getElementById("p-lotnum-error").style.color = "red";
            document.getElementById("fail-product-lot-no-error").innerHTML = response.product_Lot_No;
            document.getElementById("fail-product-lot-no-error").style.color = "red";
        }
        else{
            document.getElementById("fail-lotno-error").innerHTML = response.wo_Lot_No;
            document.getElementById("fail-lotno-error").style.color = "black";
            document.getElementById("fail-product-lot-no-error").innerHTML = response.product_Lot_No;
            document.getElementById("fail-product-lot-no-error").style.color = "black";
        }
        if(response.firstUseby_Mismatch == true)
        {
            document.getElementById("fail-calc-use-by-error").style.color = "black";
            document.getElementById("fail-calc-use-by-error").innerHTML = response.calculate_Use_By;
            document.getElementById("p-useby-error").style.color = "red";
            document.getElementById("fail-product-use-by-error").innerHTML = response.pro_Use_By;
            document.getElementById("fail-product-use-by-error").style.color = "red";
        }
        else{
            document.getElementById("fail-calc-use-by-error").style.color = "black";
            document.getElementById("fail-calc-use-by-error").innerHTML = response.calculate_Use_By;
            document.getElementById("p-useby-error").style.color = "black";
            document.getElementById("fail-product-use-by-error").innerHTML = response.pro_Use_By;
            document.getElementById("fail-product-use-by-error").style.color = "black";
        }
        if(response.catalogMismatch == true) 
        {
            document.getElementById("fail-db-catalog-num-error").style.color = "black";
            document.getElementById("fail-db-catalog-num-error").innerHTML = response.db_Catalog_No;
            document.getElementById("w-catlognum-error").style.color = "red";
            document.getElementById("fail-wo-catalog-no-error").innerHTML = response.wo_Catalog_Num;
            document.getElementById("fail-wo-catalog-no-error").style.color = "red";
        }
        else
        {
           document.getElementById("fail-db-catalog-num-error").style.color = "black";
            document.getElementById("fail-db-catalog-num-error").innerHTML = response.db_Catalog_No;
            document.getElementById("w-catlognum-error").style.color = "black";
            document.getElementById("fail-wo-catalog-no-error").innerHTML = response.wo_Catalog_Num;
            document.getElementById("fail-wo-catalog-no-error").style.color = "black";
        }
        if(response.labelMismatch == true)
        {
            document.getElementById("fail-label-spec-error").style.color ="black";
            document.getElementById("fail-label-spec-error").innerHTML = response.db_Spec;
            document.getElementById("p-labelspec-error").style.color = "red";
            document.getElementById("fail-product-label-spec-error").innerHTML = response.product_Spec;
            document.getElementById("fail-product-label-spec-error").style.color = "red";
        }
        else{
             document.getElementById("fail-label-spec-error").style.color ="black";
            document.getElementById("fail-label-spec-error").innerHTML = response.db_Spec;
            document.getElementById("p-labelspec-error").style.color = "black";
            document.getElementById("fail-product-label-spec-error").innerHTML = response.product_Spec;
            document.getElementById("fail-product-label-spec-error").style.color = "black";
        }


    }




    function setWorkOrderInfo(response) {
        document.getElementById("total-val").innerHTML = response.workOrderInfo.totalCount != null ? response.workOrderInfo.totalCount : 0;
        document.getElementById("total-passed-val").innerHTML = response.workOrderInfo.passedCount != null ? response.workOrderInfo.passedCount : 0;
              document.getElementById("total-failed-val").innerHTML = response.workOrderInfo.failedCount != null ? response.workOrderInfo.failedCount: 0;
              document.getElementById("total-rescanned-val").innerHTML = response.workOrderInfo.scannedCount != null ? response.workOrderInfo.scannedCount: 0;
        console.log(response.workOrderInfo.scannedCount);
        document.getElementById("work-order-lot-no").innerHTML = response.lhsData.workOrderLotNo;
    }

    function redbutton(inputFieldId) {
        showLoader();
        var supervisorId = $('#' + inputFieldId).val();

        $.ajax({
            type: 'POST',
            url: '/Home/CheckSupervisorId',
            data: { supervisorEmpId: supervisorId },
            success: function (data) {
                if (data === true) {
                    hideLoader();
                    closePopup();
                    ScanFailToSupervisor1();
                    setScannedFailData1(responseData);
                    $('#' + inputFieldId).val('');
                } else {
                    hideLoader();
                    // Supervisor ID is invalid, show an error message
                    var errorMessage = 'Supervisor ID is invalid. Please enter a valid ID.';
                    $('#popupContent1').find('.error-message').text(errorMessage);
                    $('#' + inputFieldId).val('');
                }
            },
            error: function (xhr, status, error) {
                console.log("An error occurred while making the AJAX call:", error);
            }
        });
    }





    function configureContinueButton(inputFieldId) {
        showLoader();
        var supervisorId = $('#' + inputFieldId).val(); // Retrieve value using the provided input field ID

        $.ajax({
            type: 'POST',
            url: '/Home/CheckSupervisorId',
            data: { supervisorEmpId: supervisorId },
            success: function (data) {
                if (data === true) {
                    hideLoader();
                    closePopup();
                    ScanFailToSupervisor();
                    setScannedFailData(responseData, responseData.mismatches);
                    $('#' + inputFieldId).val('');
                } else {
                    hideLoader();
                    // Supervisor ID is invalid, show an error message
                    var errorMessage = 'Supervisor ID is invalid. Please enter a valid ID.';
                    $('#popupContent').find('.error-message').text(errorMessage);
                    $('#' + inputFieldId).val('');
                }
            },
            error: function (xhr, status, error) {
                console.log("An error occurred while making the AJAX call:", error);
            }
        });
    }

    var udpMessageValue = false;
    $('#nxt-scn-btn').on('click', function (e) {
        e.preventDefault();
        //localStorage.setItem("isBack", true);
        $("#productLabelInput, #productLabelSpec, #submitBtn").prop("disabled", false);
        document.getElementById("next-scan-button").style.backgroundColor = "#C5C5C5";
        document.getElementById("next-scan-button1").style.backgroundColor = "#C5C5C5";
        udpMessageValue = true;
        $('#productLabelInput').val('');
        $('#productLabelSpec').val('');
        var workOrderValue = localStorage.getItem("workOrderValue");
        document.getElementById("before-scan-lot-no").style.display = "block";
        document.getElementById("after-scan-pass-lot-no").style.display = "none";

        document.getElementById("before-scan-gtin").style.display = "block";
        document.getElementById("after-scan-pass-gtin").style.display = "none";

        document.getElementById("before-scan-cat-no").style.display = "block";
        document.getElementById("after-scan-pass-cat-no").style.display = "none";

        document.getElementById("before-scan-label-spec").style.display = "block";
        document.getElementById("after-scan-pass-label-spec").style.display = "none";

        document.getElementById("before-scan-use-date").style.display = "block";
        document.getElementById("after-scan-pass-use-date").style.display = "none";

        document.getElementById("left-part-before-scan").style.display = "block";
        document.getElementById("left-part-after-scan-pass").style.display = "none";
        document.getElementById("popupContainer").style.display = "none";
        document.getElementById("popupContainer1").style.display = "none";


        // Make an AJAX request to your controller method
        $.ajax({
            url: '/Home/SaveWorkOrder', // Replace with the correct URL
            method: 'POST', // Use POST or GET as appropriate
            data: { input: workOrderValue, udpMessage: udpMessageValue },
            success: function (response) {
                // Handle the response from the controller here
                console.log(response);

            },
            error: function (error) {
                // Handle any errors here
                console.error(error);
            }
        });
    });


    function showLoader() {
        document.getElementById('loader').style.display = 'block';
        document.getElementById('overlay').style.display = 'block';
    }

    // Function to hide the loader and overlay
    function hideLoader() {
        document.getElementById('loader').style.display = 'none';
        document.getElementById('overlay').style.display = 'none';
    }
    var socket = null;
    if (true) {
        websocketUrl = "ws://localhost:7157" + "/ws";

        socket = new WebSocket(websocketUrl);

        socket.onerror = function (event) {
            console.log(event);

        };

        socket.onmessage = function (event) {
            const jsonData = event.data;
            const data = JSON.parse(jsonData);
            console.log(data);
            if (data.pageData != null) {
                //console.log(data.pageData.Barcode);
                if (data.pageData.Barcode.length < 25 && superVisorInput == false) {
                    document.getElementById("productLabelSpec").value = data.pageData.Barcode;
                } else if (data.pageData.Barcode.length > 25 && superVisorInput == false) {
                    document.getElementById("productLabelInput").value = data.pageData.Barcode;
                }
                if (document.getElementById("productLabelInput").value !=='' && document.getElementById("productLabelSpec").value !==''){
                    document.getElementById("submitBtn").click();
                }
                if(superVisorInput == true){
                    document.getElementById("supervisorInput").value = data.pageData.Barcode;
                    configureContinueButton('supervisorInput');
                }
            }

            
            document.getElementById("greenButton").addEventListener("click", function () {
                document.getElementById("greenButton").value = data.pageError.errorMsg;
                configureContinueButton('supervisorInput');
            });

            document.getElementById("redButton").addEventListener("click", function () {
                document.getElementById("redButton").value = data.pageError.errorMsg;
                redbutton('supervisorInput1');

            });

        };

        socket.onopen = function (event) {
            // WebSocket connection opened
            console.log('WebSocket connection opened');
        };

        socket.onclose = function (event) {
            // WebSocket connection closed
            console.log('WebSocket connection closed');
            socket = new WebSocket(websocketUrl);
        };
    }





    //code for session counter
    function startTimer(duration) {
        var timerDisplay = document.getElementById("timer");

        var timer = duration;
        var hours, minutes, seconds;

        var intervalId = setInterval(function () {
            hours = parseInt(timer / 3600, 10);
            minutes = parseInt((timer % 3600) / 60, 10);
            seconds = parseInt(timer % 60, 10);

            hours = hours < 10 ? "0" + hours : hours;
            minutes = minutes < 10 ? "0" + minutes : minutes;
            seconds = seconds < 10 ? "0" + seconds : seconds;

            timerDisplay.textContent = hours + ":" + minutes + ":" + seconds;

            if (--timer < 0) {
                clearInterval(intervalId);
                // Perform any action you need when the timer reaches 00:00:00
                window.location.href = "/Login/Logout";
                //alert("Timer has expired!");
            }
        }, 1000);
    }

    // Local Storage is already set in homescreen so just obtain it here
     var expirationTime = localStorage.getItem("expiration_time");


    // Get the expiration time from localStorage
    var currentTime = Math.floor(Date.now() / 1000);
    var remainingTime = expirationTime - currentTime;
    startTimer(remainingTime);
</script>